<div class="container-fluid">

  <div class="row">
    <div class="col-xl-5 col-lg-5">
      <div class="row">
        <div class="card">
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-bordered mb-0">

                <thead>
                  <tr>
                    <th></th>
                    <th>Resignation</th>
                    <th>Long sick</th>
                    <th>New OP</th>
                    <th>Absent</th>
                    <th>Need SP</th>
                    <th>Extra work</th>
                    <th>Total</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row">Required</th>
                    <td style="background-color: red;">{{assy.resign}}</td>
                    <td style="background: yellow; color: black;">{{assy.longSick}}</td>
                    <td style="background: #00b0f0;">{{assy.newOP}}</td>
                    <td style="background: #01ff00">{{assy.absentOP}}</td>
                    <td style="background: #cdd961">{{assy.needSP}}</td>
                    <td style="background: #20B2AA">{{assy.extraWork}}</td>
                    <td style="background: red">{{assy.total}}</td>
                  </tr>
                  <tr>
                    <th scope="row" style="color: blue;">Replaced</th>
                    <td style="color: blue;">0</td>
                    <td style="color: blue;">0</td>
                    <td style="color: blue;">0</td>
                    <td style="color: blue;">0</td>
                    <td style="color: blue;">0</td>
                    <td style="color: blue;">0</td>
                    <td style="color: blue;">0</td>
                  </tr>
                </tbody>
              </table>
            </div>

          </div>
        </div>
      </div>

    </div>
    <div class="col-xl-4 col-lg-4">
      <div class="card" style="margin-bottom: 10px!important">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered mb-0">

              <thead>
                <tr>
                  <th style=" background-color: #f1b44c">Total</th>
                  <th style=" background-color: #556ee6; ">LD</th>
                  <th style="background-color: #34c38f; ">SP</th>
                  <th>OP</th>
                  <th style="text-align: center; background-color: #f46a6a;">Absent</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="color: black">{{countData.total}}</td>
                  <td style="color: black">{{countData.totalLD}}</td>
                  <td style="color: black">{{countData.totalSP}}</td>
                  <td style="color: black">{{countData.totalWorker}}</td>
                  <td style="color: black">{{countData.absent}}</td>
                </tr>
              </tbody>
            </table>
          </div>

        </div>
      </div>
      <button class="btn btn-primary" style="font-weight:700;color:white;background-color: red;">NOTE: GIẢI THÍCH CÁC
        MỤC UPDATE MULTI-SP HÀNG NGÀY</button>
    </div>
    <div class="col-xl-3 col-lg-">
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <label class="input-group-text">Chọn ngày</label>
        </div>
        <input [value]="formatDate" (dateSelect)="onDateSelect($event)" ngbDatepicker class="form-control"
          (click)="d.toggle()" placeholder="yyyy-mm-dd" #d="ngbDatepicker">
        <div class="input-group-append" (click)="d.toggle()">
          <span class="input-group-text"><i class="mdi mdi-calendar"></i></span>
        </div>
      </div>
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <label class="input-group-text">Chọn shift</label>
        </div>
        <select class="form-select" [(ngModel)]="shift" (change)="changeShift($event.target.value)">
          <option selected>Select</option>
          <option *ngFor="let item of ['Shift A', 'Shift B']" [value]="item">{{item}}</option>
        </select>
      </div>
      <div id="tickets-table_filter" class="text-md-end">
        <button class="btn btn-primary  d-inline-flex align-items-center" (click)="getAllData()"> Confirm
        </button>
      </div>
      <p style="background-color: yellow;font-size:11px;font-weight:bold; margin-top: 10px;"><span
          style="color: red;text-decoration: underline; ">Lưu ý:</span> Cần phải xác nhận ngày và ca làm việc trước khi
        chia CĐ</p>
    </div>
  </div>
  <!-- <div class="row" style="margin-top: 10px;">
    <div class="card">
      <div class="card-body">
        <div id="tickets-table_filter" class="text-md-end">
          <button class="btn btn-primary  d-inline-flex align-items-center"> Confirm
          </button>
        </div>
        <div *ngIf="finalResultfinal.length > 0">
          <div>
            <span *ngFor="let item of finalResultfinal | keyvalue">
              <span *ngFor="let i of item.value | keyvalue">
                <span>Station Name: {{i.key}} - Code Multi: {{i.value}} </span><br>
              </span>
            </span>
          </div>
        </div>
        <div class="row" style="margin-top: 20px;">
          <ng-template [ngIf]="list.length < 9">
            <div *ngFor="let item of list" style="float:left;width:120px;margin-right:5px;border:1px solid #ccc">a</div>
          </ng-template>
          <ng-template [ngIf]="list.length > 9">
            <div *ngFor="let item of list" style="float:left;width:250px;margin-right:5px;border:1px solid #ccc">a</div>
          </ng-template>
        </div>
      </div>
    </div>
  </div> -->
  <div class="row card" style="margin-top: 10px; min-height: 650px;">
    <div class="card-body">
      <div id="tickets-table_filter" class="text-md-end">
        <button class="btn btn-primary  d-inline-flex align-items-center"> Confirm
        </button>
      </div>
      <div *ngFor="let model of dataList | keyvalue">
        <div class=" table-responsive" style="margin-top: 5px; float: left; width: 120px; margin-right: 20px;">
          <table class="table table-bordered mb-0" style="width:120px">
            <tbody>
              <tr style="max-height: 20px;">
                <td colspan="2" style="padding: 1px 6px;
                border: 1px solid #ccc;
                background-color: rgb(0, 148, 255);
                color: #fff;
                text-align: center;
                text-transform: uppercase;
                max-height: 20px;
                font-size: 18px;
                font-weight: 300;">{{model.key}}</td>
              </tr>
              <div *ngFor="let cell of model.value | keyvalue">
                <div style="padding: 0%; background-color: #6600ff; text-align: center;">
                  <tr>
                    <td colspan="2" style="border: 1px inset;
                      color: #fff;
                      text-align: center;
                      width: 120px;
                      margin: 0;
                      padding: 0;
                      font-size: 16px;
                      font-weight:300px">{{cell.key}}</td>
                  </tr>
                </div>
                <div *ngFor="let station of cell.value | keyvalue"
                  style="padding: 0px; border-bottom: 1px solid #ccc; height: 45px;">
                  <tr>
                    <td style="padding: 0px 1px 0px 1px; width: 60px; font-size: 13px; vertical-align: middle;">
                      <span class="station-name" [ngClass]="{
                        'absent':station.value.typeAbsent === 'Absent OP',
                        'resignation':station.value.typeAbsent === 'Resignation',
                        'longsick':station.value.typeAbsent === 'Long sick',
                        'needsp':station.value.typeAbsent === 'Need SP',
                        'newop':station.value.typeAbsent === 'New OP',
                        'extrawork':station.value.typeAbsent === 'Extra work'
                        }">
                        {{station.key}}
                      </span>
                    </td>
                    <td style="font-size: 12px; color: black; ">{{station.value.code_multi}} {{station.value.lastName}}
                    </td>
                  </tr>
                </div>
              </div>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>